import{c as d,j as r,R as g,u as e,r as n,S as m}from"./styles.js";function u(){const i=e(s=>s.hydrateLiveStreams),o=e(s=>s.seedFromUrl),t=e(s=>s.streams),a=e(s=>s.slots),c=e(s=>s.targetSlot),l=e(s=>s.activeSlot);return n.useEffect(()=>{o(window.location.search),t.length||i()},[i,o,t.length]),n.useEffect(()=>{window.dispatchEvent(new CustomEvent("multiview:state-change",{detail:{slots:a,targetSlot:c,activeSlot:l}}))},[a,c,l]),r.jsx("div",{className:"multiview-embedded",children:r.jsx(m,{})})}const S=document.getElementById("react-multiview-root");if(S){d.createRoot(S).render(r.jsx(g.StrictMode,{children:r.jsx(u,{})}));const o={setStreams:e.getState().setStreams,assignStream:t=>e.getState().assignStreamToTarget(t),assignStreamToSlot:(t,a)=>e.getState().assignStreamToSlot(t,a),clearSlot:t=>e.getState().clearSlot(t),setTargetSlot:t=>e.getState().setTargetSlot(t),setActiveSlot:t=>e.getState().setActiveSlot(t),setFocusMode:t=>e.getState().setFocusMode(t),toggleFocusMode:()=>e.getState().toggleFocusMode()};window.multiviewBridge=o}
